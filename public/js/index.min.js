webpackJsonp([1],{

/***/ 32:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _react = __webpack_require__(2);

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(9);

var _reactDom2 = _interopRequireDefault(_reactDom);

var _Layout = __webpack_require__(33);

var _Layout2 = _interopRequireDefault(_Layout);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var app = document.getElementById('app');
_reactDom2.default.render(_react2.default.createElement(_Layout2.default, null), app);

/***/ }),

/***/ 33:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.default = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(2);

var _react2 = _interopRequireDefault(_react);

var _Header = __webpack_require__(34);

var _Header2 = _interopRequireDefault(_Header);

var _Product = __webpack_require__(35);

var _Product2 = _interopRequireDefault(_Product);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Layout = function (_React$Component) {
	_inherits(Layout, _React$Component);

	function Layout(props) {
		_classCallCheck(this, Layout);

		return _possibleConstructorReturn(this, (Layout.__proto__ || Object.getPrototypeOf(Layout)).call(this, props));
	}

	_createClass(Layout, [{
		key: "render",
		value: function render() {
			return _react2.default.createElement(
				"div",
				null,
				_react2.default.createElement(_Header2.default, { text: "Hello React" }),
				_react2.default.createElement(_Product2.default, null)
			);
		}
	}]);

	return Layout;
}(_react2.default.Component);

exports.default = Layout;

/***/ }),

/***/ 34:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.default = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(2);

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Header = function (_React$Component) {
	_inherits(Header, _React$Component);

	function Header(props) {
		_classCallCheck(this, Header);

		return _possibleConstructorReturn(this, (Header.__proto__ || Object.getPrototypeOf(Header)).call(this, props));
	}

	_createClass(Header, [{
		key: "render",
		value: function render() {
			return _react2.default.createElement(
				"h1",
				{ style: { color: '#CB3837' } },
				this.props.text
			);
		}
	}]);

	return Header;
}(_react2.default.Component);

exports.default = Header;

/***/ }),

/***/ 35:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(2);

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(9);

var _reactDom2 = _interopRequireDefault(_reactDom);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var baseUrl = "/product";

var Product = function (_Component) {
	_inherits(Product, _Component);

	function Product(props) {
		_classCallCheck(this, Product);

		var _this = _possibleConstructorReturn(this, (Product.__proto__ || Object.getPrototypeOf(Product)).call(this, props));

		_this.state = {
			loading: true,
			products: [],

			product: {
				_id: '',
				name: '',
				price: 0,
				discount: 0,
				imageUrl: ''
			}
		};

		_this.handleSubmit = _this.handleSubmit.bind(_this);
		return _this;
	}

	// BINDING


	_createClass(Product, [{
		key: 'handleChange',
		value: function handleChange(field, event) {
			var object = this.state.product;
			object[field] = event.target.value;
			this.setState({ product: object });
		}

		// SUBMIT (ADD / EDIT)

	}, {
		key: 'handleSubmit',
		value: function handleSubmit(event) {
			var _this2 = this;

			event.preventDefault();
			var component = this;
			var productId = _reactDom2.default.findDOMNode(component.refs.product_id).value;

			if (productId.length === 0) {
				// INSERT
				var insertData = JSON.stringify({
					name: this.state.product.name,
					price: this.state.product.price,
					discount: this.state.product.discount,
					imageUrl: this.state.product.imageUrl
				});

				fetch(baseUrl, {
					method: 'POST',
					body: insertData,
					headers: new Headers({
						'Content-Type': 'application/json'
					})
				}).then(function (res) {
					return res.json();
				}).then(function (data) {
					var products = component.state.products;
					products.push(data);

					component.state.product = {
						_id: '',
						name: '',
						price: 0,
						discount: 0,
						imageUrl: ''
					};

					component.setState(_this2.state);
				}).catch(function (err) {
					console.log(err);
				});
			} else {
				// EDIT
				var editData = JSON.stringify({
					name: this.state.product.name,
					price: this.state.product.price,
					discount: this.state.product.discount,
					imageUrl: this.state.product.imageUrl
				});

				fetch(baseUrl + '/' + productId, {
					method: 'PUT',
					body: editData,
					headers: new Headers({
						'Content-Type': 'application/json'
					})
				}).then(function (res) {
					return res.json();
				}).then(function (data) {
					var products = component.state.products;
					for (var i = 0; i < products.length; i++) {
						if (products[i]._id === productId) {

							products[i] = component.state.product;

							component.state.product = {
								_id: '',
								name: '',
								price: 0,
								discount: 0,
								imageUrl: ''
							};

							component.setState(_this2.state);

							return false;
						}
					}
				}).catch(function (err) {
					console.log(err);
				});
			}
		}

		// SELECT ROW

	}, {
		key: 'handleSelect',
		value: function handleSelect(productId, event) {
			for (var i = 0; i < this.state.products.length; i++) {
				if (this.state.products[i]._id === productId) {
					this.state.product = this.state.products[i];
					this.setState({ product: this.state.product });
					return false;
				}
			}
		}

		// DELETE

	}, {
		key: 'handleDelete',
		value: function handleDelete(productId, event) {
			var component = this;
			fetch(baseUrl + '/' + productId, {
				method: 'DELETE',
				headers: new Headers({
					'Content-Type': 'application/json'
				})
			}).then(function (res) {
				return res.json();
			}).then(function (data) {
				var products = component.state.products;
				for (var i = 0; i < products.length; i++) {
					if (products[i]._id === productId) {
						products.splice(i, 1);
						component.setState({ products: products });
						return false;
					}
				}
			}).catch(function (err) {
				console.log(err);
			});
		}
	}, {
		key: 'componentDidMount',
		value: function componentDidMount() {
			var _this3 = this;

			fetch(baseUrl + '/all').then(function (res) {
				return res.json();
			}).then(function (data) {
				_this3.setState({ products: data });
				_this3.setState({ loading: false });
			});
		}
	}, {
		key: 'render',
		value: function render() {
			var _this4 = this;

			if (this.state.loading === false) {
				return _react2.default.createElement(
					'div',
					null,
					_react2.default.createElement(
						'h1',
						null,
						'Products'
					),
					_react2.default.createElement(
						'table',
						{ className: 'table table-hover' },
						_react2.default.createElement(
							'thead',
							null,
							_react2.default.createElement(
								'tr',
								null,
								_react2.default.createElement(
									'th',
									null,
									'Id'
								),
								_react2.default.createElement(
									'th',
									null,
									'Name'
								),
								_react2.default.createElement(
									'th',
									null,
									'Price'
								),
								_react2.default.createElement(
									'th',
									null,
									'Discount'
								),
								_react2.default.createElement(
									'th',
									null,
									'Image'
								),
								_react2.default.createElement('th', null)
							)
						),
						_react2.default.createElement(
							'tbody',
							null,
							this.state.products.map(function (p) {
								return _react2.default.createElement(
									'tr',
									{ key: p._id },
									_react2.default.createElement(
										'td',
										null,
										p._id
									),
									_react2.default.createElement(
										'td',
										null,
										p.name
									),
									_react2.default.createElement(
										'td',
										null,
										p.price
									),
									_react2.default.createElement(
										'td',
										null,
										p.discount
									),
									_react2.default.createElement(
										'td',
										null,
										_react2.default.createElement('img', { src: p.imageUrl, height: '100px' })
									),
									_react2.default.createElement(
										'td',
										{ className: 'text-right' },
										_react2.default.createElement(
											'div',
											{ className: 'btn-group' },
											_react2.default.createElement(
												'button',
												{ className: 'btn btn-danger', onClick: _this4.handleDelete.bind(_this4, p._id) },
												'Delete'
											),
											_react2.default.createElement(
												'button',
												{ className: 'btn btn-info', onClick: _this4.handleSelect.bind(_this4, p._id) },
												'Select'
											)
										)
									)
								);
							})
						)
					),
					_react2.default.createElement('hr', null),
					_react2.default.createElement(
						'form',
						{ onSubmit: this.handleSubmit },
						_react2.default.createElement(
							'div',
							{ className: 'form-group' },
							_react2.default.createElement(
								'label',
								null,
								'Id:'
							),
							_react2.default.createElement('input', { type: 'text', readOnly: true, className: 'input form-control', ref: 'product_id', value: this.state.product._id, onChange: this.handleChange.bind(this, '_id') })
						),
						_react2.default.createElement(
							'div',
							{ className: 'form-group' },
							_react2.default.createElement(
								'label',
								null,
								'Name:'
							),
							_react2.default.createElement('input', { type: 'text', className: 'input form-control', ref: 'product_name', value: this.state.product.name, onChange: this.handleChange.bind(this, 'name') })
						),
						_react2.default.createElement(
							'div',
							{ className: 'form-group' },
							_react2.default.createElement(
								'label',
								null,
								'Price:'
							),
							_react2.default.createElement('input', { type: 'text', className: 'input form-control', ref: 'product_price', value: this.state.product.price, onChange: this.handleChange.bind(this, 'price') })
						),
						_react2.default.createElement(
							'div',
							{ className: 'form-group' },
							_react2.default.createElement(
								'label',
								null,
								'Discount:'
							),
							_react2.default.createElement('input', { type: 'text', className: 'input form-control', ref: 'product_discount', value: this.state.product.discount, onChange: this.handleChange.bind(this, 'discount') })
						),
						_react2.default.createElement(
							'div',
							{ className: 'form-group' },
							_react2.default.createElement(
								'label',
								null,
								'Image Url:'
							),
							_react2.default.createElement('input', { type: 'text', className: 'input form-control', ref: 'product_image_url', value: this.state.product.imageUrl, onChange: this.handleChange.bind(this, 'imageUrl') })
						),
						_react2.default.createElement(
							'div',
							null,
							_react2.default.createElement('input', { className: 'btn btn-primary', type: 'submit', value: 'Submit' })
						)
					)
				);
			} else {
				return _react2.default.createElement(
					'h1',
					null,
					'Loading ...'
				);
			}
		}
	}]);

	return Product;
}(_react.Component);

exports.default = Product;

/***/ })

},[32]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2NvbXBvbmVudHMvTGF5b3V0LmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9jb21wb25lbnRzL0hlYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvY29tcG9uZW50cy9Qcm9kdWN0LmpzIl0sIm5hbWVzIjpbImFwcCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJyZW5kZXIiLCJMYXlvdXQiLCJwcm9wcyIsIkNvbXBvbmVudCIsIkhlYWRlciIsImNvbG9yIiwidGV4dCIsImJhc2VVcmwiLCJQcm9kdWN0Iiwic3RhdGUiLCJsb2FkaW5nIiwicHJvZHVjdHMiLCJwcm9kdWN0IiwiX2lkIiwibmFtZSIsInByaWNlIiwiZGlzY291bnQiLCJpbWFnZVVybCIsImhhbmRsZVN1Ym1pdCIsImJpbmQiLCJmaWVsZCIsImV2ZW50Iiwib2JqZWN0IiwidGFyZ2V0IiwidmFsdWUiLCJzZXRTdGF0ZSIsInByZXZlbnREZWZhdWx0IiwiY29tcG9uZW50IiwicHJvZHVjdElkIiwiZmluZERPTU5vZGUiLCJyZWZzIiwicHJvZHVjdF9pZCIsImxlbmd0aCIsImluc2VydERhdGEiLCJKU09OIiwic3RyaW5naWZ5IiwiZmV0Y2giLCJtZXRob2QiLCJib2R5IiwiaGVhZGVycyIsIkhlYWRlcnMiLCJ0aGVuIiwicmVzIiwianNvbiIsImRhdGEiLCJwdXNoIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZWRpdERhdGEiLCJpIiwic3BsaWNlIiwibWFwIiwicCIsImhhbmRsZURlbGV0ZSIsImhhbmRsZVNlbGVjdCIsImhhbmRsZUNoYW5nZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBRUE7Ozs7OztBQUVBLElBQU1BLE1BQU1DLFNBQVNDLGNBQVQsQ0FBd0IsS0FBeEIsQ0FBWjtBQUNBLG1CQUFTQyxNQUFULENBQWdCLHFEQUFoQixFQUE0Qkgs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LG1CQUFsRCxFQUFzRSxPQUFPLEtBQUtWLEtBQUwsQ0FBV0csT0FBWCxDQUFtQkssUUFBaEcsRUFBMEcsVUFBVSxLQUFLd0MsWUFBTCxDQUFrQnRDLElBQWxCLENBQXVCLElBQXZCLEVBQTZCLFVBQTdCLENBQXBIO0FBRkQsT0FqQkQ7QUFxQkM7QUFBQTtBQUFBO0FBQ0MsZ0RBQU8sV0FBTSxpQkFBYixFQUErQixNQUFLLFFBQXBDLEVBQTZDLE9BQU0sUUFBbkQ7QUFERDtBQXJCRDtBQWxDRCxLQUREO0FBOERBLElBL0RELE1BZ0VLO0FBQ0osV0FBUTtBQUFBO0FBQUE7QUFBQTtBQUFBLEtBQVI7QUFDQTtBQUNEOzs7Ozs7a0JBRWFYLE8iLCJmaWxlIjoiaW5kZXgubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcblxuaW1wb3J0IExheW91dCBmcm9tIFwiLi9jb21wb25lbnRzL0xheW91dFwiO1xuXG5jb25zdCBhcHAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJyk7XG5SZWFjdERPTS5yZW5kZXIoPExheW91dCAvPiwgYXBwKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvaW5kZXguanMiLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgSGVhZGVyIGZyb20gXCIuL0hlYWRlclwiO1xuaW1wb3J0IFByb2R1Y3QgZnJvbSBcIi4vUHJvZHVjdFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMYXlvdXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXHRjb25zdHJ1Y3Rvcihwcm9wcykge1xuXHRcdHN1cGVyKHByb3BzKTtcblx0fVxuXG5cdHJlbmRlcigpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0PGRpdj5cblx0XHRcdFx0PEhlYWRlciB0ZXh0PVwiSGVsbG8gUmVhY3RcIiAvPlxuXHRcdFx0XHQ8UHJvZHVjdCAvPlxuXHRcdFx0PC9kaXY+XG5cdFx0KTtcblx0fVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9jb21wb25lbnRzL0xheW91dC5qcyIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVhZGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcblx0Y29uc3RydWN0b3IocHJvcHMpIHtcblx0XHRzdXBlcihwcm9wcyk7XG5cdH1cblxuXHRyZW5kZXIoKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdDxoMSBzdHlsZT17eyBjb2xvcjogJyNDQjM4MzcnIH19Pnt0aGlzLnByb3BzLnRleHR9PC9oMT5cblx0XHQpO1xuXHR9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvY29tcG9uZW50cy9IZWFkZXIuanMiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5cbmNvbnN0IGJhc2VVcmwgPSBcIi9wcm9kdWN0XCI7XG5cbmNsYXNzIFByb2R1Y3QgZXh0ZW5kcyBDb21wb25lbnQge1xuXHRjb25zdHJ1Y3Rvcihwcm9wcykge1xuXHRcdHN1cGVyKHByb3BzKTtcblx0XHR0aGlzLnN0YXRlID0ge1xuXHRcdFx0bG9hZGluZzogdHJ1ZSxcblx0XHRcdHByb2R1Y3RzOiBbXSxcblxuXHRcdFx0cHJvZHVjdDoge1xuXHRcdFx0XHRfaWQ6ICcnLFxuXHRcdFx0XHRuYW1lOiAnJyxcblx0XHRcdFx0cHJpY2U6IDAsXG5cdFx0XHRcdGRpc2NvdW50OiAwLFxuXHRcdFx0XHRpbWFnZVVybDogJydcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLmhhbmRsZVN1Ym1pdCA9IHRoaXMuaGFuZGxlU3VibWl0LmJpbmQodGhpcyk7XG5cdH1cblxuXHQvLyBCSU5ESU5HXG5cdGhhbmRsZUNoYW5nZShmaWVsZCwgZXZlbnQpIHtcblx0XHR2YXIgb2JqZWN0ID0gdGhpcy5zdGF0ZS5wcm9kdWN0O1xuXHRcdG9iamVjdFtmaWVsZF0gPSBldmVudC50YXJnZXQudmFsdWU7XG5cdFx0dGhpcy5zZXRTdGF0ZSh7IHByb2R1Y3Q6IG9iamVjdCB9KTtcblx0fVxuXG5cdC8vIFNVQk1JVCAoQUREIC8gRURJVClcblx0aGFuZGxlU3VibWl0KGV2ZW50KSB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHR2YXIgY29tcG9uZW50ID0gdGhpcztcblx0XHR2YXIgcHJvZHVjdElkID0gUmVhY3RET00uZmluZERPTU5vZGUoY29tcG9uZW50LnJlZnMucHJvZHVjdF9pZCkudmFsdWU7XG5cblx0XHRpZiAocHJvZHVjdElkLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0Ly8gSU5TRVJUXG5cdFx0XHR2YXIgaW5zZXJ0RGF0YSA9IEpTT04uc3RyaW5naWZ5KHtcblx0XHRcdFx0bmFtZTogdGhpcy5zdGF0ZS5wcm9kdWN0Lm5hbWUsXG5cdFx0XHRcdHByaWNlOiB0aGlzLnN0YXRlLnByb2R1Y3QucHJpY2UsXG5cdFx0XHRcdGRpc2NvdW50OiB0aGlzLnN0YXRlLnByb2R1Y3QuZGlzY291bnQsXG5cdFx0XHRcdGltYWdlVXJsOiB0aGlzLnN0YXRlLnByb2R1Y3QuaW1hZ2VVcmxcblx0XHRcdH0pO1xuXG5cdFx0XHRmZXRjaChiYXNlVXJsLCB7XG5cdFx0XHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdFx0XHRib2R5OiBpbnNlcnREYXRhLFxuXHRcdFx0XHRoZWFkZXJzOiBuZXcgSGVhZGVycyh7XG5cdFx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuXHRcdFx0XHR9KVxuXHRcdFx0fSlcblx0XHRcdFx0LnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXG5cdFx0XHRcdC50aGVuKChkYXRhKSA9PiB7XG5cdFx0XHRcdFx0dmFyIHByb2R1Y3RzID0gY29tcG9uZW50LnN0YXRlLnByb2R1Y3RzO1xuXHRcdFx0XHRcdHByb2R1Y3RzLnB1c2goZGF0YSk7XG5cblx0XHRcdFx0XHRjb21wb25lbnQuc3RhdGUucHJvZHVjdCA9IHtcblx0XHRcdFx0XHRcdF9pZDogJycsXG5cdFx0XHRcdFx0XHRuYW1lOiAnJyxcblx0XHRcdFx0XHRcdHByaWNlOiAwLFxuXHRcdFx0XHRcdFx0ZGlzY291bnQ6IDAsXG5cdFx0XHRcdFx0XHRpbWFnZVVybDogJydcblx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0Y29tcG9uZW50LnNldFN0YXRlKHRoaXMuc3RhdGUpO1xuXG5cdFx0XHRcdH0pLmNhdGNoKChlcnIpID0+IHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhlcnIpO1xuXHRcdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gRURJVFxuXHRcdFx0dmFyIGVkaXREYXRhID0gSlNPTi5zdHJpbmdpZnkoe1xuXHRcdFx0XHRuYW1lOiB0aGlzLnN0YXRlLnByb2R1Y3QubmFtZSxcblx0XHRcdFx0cHJpY2U6IHRoaXMuc3RhdGUucHJvZHVjdC5wcmljZSxcblx0XHRcdFx0ZGlzY291bnQ6IHRoaXMuc3RhdGUucHJvZHVjdC5kaXNjb3VudCxcblx0XHRcdFx0aW1hZ2VVcmw6IHRoaXMuc3RhdGUucHJvZHVjdC5pbWFnZVVybFxuXHRcdFx0fSk7XG5cblx0XHRcdGZldGNoKGJhc2VVcmwgKyAnLycgKyBwcm9kdWN0SWQsIHtcblx0XHRcdFx0bWV0aG9kOiAnUFVUJyxcblx0XHRcdFx0Ym9keTogZWRpdERhdGEsXG5cdFx0XHRcdGhlYWRlcnM6IG5ldyBIZWFkZXJzKHtcblx0XHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG5cdFx0XHRcdH0pXG5cdFx0XHR9KVxuXHRcdFx0XHQudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcblx0XHRcdFx0LnRoZW4oKGRhdGEpID0+IHtcblx0XHRcdFx0XHR2YXIgcHJvZHVjdHMgPSBjb21wb25lbnQuc3RhdGUucHJvZHVjdHM7XG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBwcm9kdWN0cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdFx0aWYgKHByb2R1Y3RzW2ldLl9pZCA9PT0gcHJvZHVjdElkKSB7XG5cblx0XHRcdFx0XHRcdFx0cHJvZHVjdHNbaV0gPSBjb21wb25lbnQuc3RhdGUucHJvZHVjdFxuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0Y29tcG9uZW50LnN0YXRlLnByb2R1Y3QgPSB7XG5cdFx0XHRcdFx0XHRcdFx0X2lkOiAnJyxcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiAnJyxcblx0XHRcdFx0XHRcdFx0XHRwcmljZTogMCxcblx0XHRcdFx0XHRcdFx0XHRkaXNjb3VudDogMCxcblx0XHRcdFx0XHRcdFx0XHRpbWFnZVVybDogJydcblx0XHRcdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdFx0XHRjb21wb25lbnQuc2V0U3RhdGUodGhpcy5zdGF0ZSk7XG5cblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSkuY2F0Y2goKGVycikgPT4ge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XG5cdFx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdC8vIFNFTEVDVCBST1dcblx0aGFuZGxlU2VsZWN0KHByb2R1Y3RJZCwgZXZlbnQpIHtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhdGUucHJvZHVjdHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmICh0aGlzLnN0YXRlLnByb2R1Y3RzW2ldLl9pZCA9PT0gcHJvZHVjdElkKSB7XG5cdFx0XHRcdHRoaXMuc3RhdGUucHJvZHVjdCA9IHRoaXMuc3RhdGUucHJvZHVjdHNbaV07XG5cdFx0XHRcdHRoaXMuc2V0U3RhdGUoeyBwcm9kdWN0OiB0aGlzLnN0YXRlLnByb2R1Y3QgfSk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBERUxFVEVcblx0aGFuZGxlRGVsZXRlKHByb2R1Y3RJZCwgZXZlbnQpIHtcblx0XHR2YXIgY29tcG9uZW50ID0gdGhpcztcblx0XHRmZXRjaChiYXNlVXJsICsgJy8nICsgcHJvZHVjdElkLCB7XG5cdFx0XHRtZXRob2Q6ICdERUxFVEUnLFxuXHRcdFx0aGVhZGVyczogbmV3IEhlYWRlcnMoe1xuXHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG5cdFx0XHR9KVxuXHRcdH0pLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXG5cdFx0XHQudGhlbigoZGF0YSkgPT4ge1xuXHRcdFx0XHR2YXIgcHJvZHVjdHMgPSBjb21wb25lbnQuc3RhdGUucHJvZHVjdHM7XG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgcHJvZHVjdHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRpZiAocHJvZHVjdHNbaV0uX2lkID09PSBwcm9kdWN0SWQpIHtcblx0XHRcdFx0XHRcdHByb2R1Y3RzLnNwbGljZShpLCAxKTtcblx0XHRcdFx0XHRcdGNvbXBvbmVudC5zZXRTdGF0ZSh7IHByb2R1Y3RzOiBwcm9kdWN0cyB9KTtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pLmNhdGNoKChlcnIpID0+IHtcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcblx0XHRcdH0pO1xuXHR9XG5cblx0Y29tcG9uZW50RGlkTW91bnQoKSB7XG5cdFx0ZmV0Y2goYmFzZVVybCArICcvYWxsJylcblx0XHRcdC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxuXHRcdFx0LnRoZW4oKGRhdGEpID0+IHtcblx0XHRcdFx0dGhpcy5zZXRTdGF0ZSh7IHByb2R1Y3RzOiBkYXRhIH0pO1xuXHRcdFx0XHR0aGlzLnNldFN0YXRlKHsgbG9hZGluZzogZmFsc2UgfSk7XG5cdFx0XHR9KTtcblx0fVxuXG5cdHJlbmRlcigpIHtcblx0XHRpZiAodGhpcy5zdGF0ZS5sb2FkaW5nID09PSBmYWxzZSkge1xuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0PGRpdj5cblx0XHRcdFx0XHQ8aDE+UHJvZHVjdHM8L2gxPlxuXHRcdFx0XHRcdDx0YWJsZSBjbGFzcz1cInRhYmxlIHRhYmxlLWhvdmVyXCI+XG5cdFx0XHRcdFx0XHQ8dGhlYWQ+XG5cdFx0XHRcdFx0XHRcdDx0cj5cblx0XHRcdFx0XHRcdFx0XHQ8dGg+SWQ8L3RoPlxuXHRcdFx0XHRcdFx0XHRcdDx0aD5OYW1lPC90aD5cblx0XHRcdFx0XHRcdFx0XHQ8dGg+UHJpY2U8L3RoPlxuXHRcdFx0XHRcdFx0XHRcdDx0aD5EaXNjb3VudDwvdGg+XG5cdFx0XHRcdFx0XHRcdFx0PHRoPkltYWdlPC90aD5cblx0XHRcdFx0XHRcdFx0XHQ8dGg+PC90aD5cblx0XHRcdFx0XHRcdFx0PC90cj5cblx0XHRcdFx0XHRcdDwvdGhlYWQ+XG5cdFx0XHRcdFx0XHQ8dGJvZHk+XG5cdFx0XHRcdFx0XHRcdHt0aGlzLnN0YXRlLnByb2R1Y3RzLm1hcChwID0+XG5cdFx0XHRcdFx0XHRcdFx0PHRyIGtleT17cC5faWR9PlxuXHRcdFx0XHRcdFx0XHRcdFx0PHRkPntwLl9pZH08L3RkPlxuXHRcdFx0XHRcdFx0XHRcdFx0PHRkPntwLm5hbWV9PC90ZD5cblx0XHRcdFx0XHRcdFx0XHRcdDx0ZD57cC5wcmljZX08L3RkPlxuXHRcdFx0XHRcdFx0XHRcdFx0PHRkPntwLmRpc2NvdW50fTwvdGQ+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxpbWcgc3JjPXtwLmltYWdlVXJsfSBoZWlnaHQ9XCIxMDBweFwiIC8+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3RkPlxuXHRcdFx0XHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGV4dC1yaWdodFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tZGFuZ2VyXCIgb25DbGljaz17dGhpcy5oYW5kbGVEZWxldGUuYmluZCh0aGlzLCBwLl9pZCl9PkRlbGV0ZTwvYnV0dG9uPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxidXR0b24gY2xhc3M9XCJidG4gYnRuLWluZm9cIiBvbkNsaWNrPXt0aGlzLmhhbmRsZVNlbGVjdC5iaW5kKHRoaXMsIHAuX2lkKX0+U2VsZWN0PC9idXR0b24+XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdDwvdGQ+XG5cdFx0XHRcdFx0XHRcdFx0PC90cj5cblx0XHRcdFx0XHRcdFx0KX1cblx0XHRcdFx0XHRcdDwvdGJvZHk+XG5cdFx0XHRcdFx0PC90YWJsZT5cblx0XHRcdFx0XHQ8aHIgLz5cblx0XHRcdFx0XHQ8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0PGxhYmVsPklkOjwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIHJlYWRPbmx5IGNsYXNzPVwiaW5wdXQgZm9ybS1jb250cm9sXCIgcmVmPVwicHJvZHVjdF9pZFwiIHZhbHVlPXt0aGlzLnN0YXRlLnByb2R1Y3QuX2lkfSBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzLCAnX2lkJyl9IC8+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG5cdFx0XHRcdFx0XHRcdDxsYWJlbD5OYW1lOjwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiaW5wdXQgZm9ybS1jb250cm9sXCIgcmVmPVwicHJvZHVjdF9uYW1lXCIgdmFsdWU9e3RoaXMuc3RhdGUucHJvZHVjdC5uYW1lfSBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzLCAnbmFtZScpfSAvPlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHQ8bGFiZWw+UHJpY2U6PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJpbnB1dCBmb3JtLWNvbnRyb2xcIiByZWY9XCJwcm9kdWN0X3ByaWNlXCIgdmFsdWU9e3RoaXMuc3RhdGUucHJvZHVjdC5wcmljZX0gb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcywgJ3ByaWNlJyl9IC8+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG5cdFx0XHRcdFx0XHRcdDxsYWJlbD5EaXNjb3VudDo8L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImlucHV0IGZvcm0tY29udHJvbFwiIHJlZj1cInByb2R1Y3RfZGlzY291bnRcIiB2YWx1ZT17dGhpcy5zdGF0ZS5wcm9kdWN0LmRpc2NvdW50fSBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzLCAnZGlzY291bnQnKX0gLz5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0PGxhYmVsPkltYWdlIFVybDo8L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImlucHV0IGZvcm0tY29udHJvbFwiIHJlZj1cInByb2R1Y3RfaW1hZ2VfdXJsXCIgdmFsdWU9e3RoaXMuc3RhdGUucHJvZHVjdC5pbWFnZVVybH0gb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcywgJ2ltYWdlVXJsJyl9IC8+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDxkaXY+XG5cdFx0XHRcdFx0XHRcdDxpbnB1dCBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIHR5cGU9XCJzdWJtaXRcIiB2YWx1ZT1cIlN1Ym1pdFwiIC8+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Zvcm0+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0KTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRyZXR1cm4gKDxoMT5Mb2FkaW5nIC4uLjwvaDE+KTtcblx0XHR9XG5cdH1cbn1cbmV4cG9ydCBkZWZhdWx0IFByb2R1Y3Q7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvY29tcG9uZW50cy9Qcm9kdWN0LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==