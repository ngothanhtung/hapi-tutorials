webpackJsonp([1],{

/***/ 32:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _react = __webpack_require__(2);

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(9);

var _reactDom2 = _interopRequireDefault(_reactDom);

var _Layout = __webpack_require__(33);

var _Layout2 = _interopRequireDefault(_Layout);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var app = document.getElementById('app');
_reactDom2.default.render(_react2.default.createElement(_Layout2.default, null), app);

/***/ }),

/***/ 33:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.default = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(2);

var _react2 = _interopRequireDefault(_react);

var _Header = __webpack_require__(34);

var _Header2 = _interopRequireDefault(_Header);

var _Product = __webpack_require__(35);

var _Product2 = _interopRequireDefault(_Product);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Layout = function (_React$Component) {
	_inherits(Layout, _React$Component);

	function Layout(props) {
		_classCallCheck(this, Layout);

		return _possibleConstructorReturn(this, (Layout.__proto__ || Object.getPrototypeOf(Layout)).call(this, props));
	}

	_createClass(Layout, [{
		key: "render",
		value: function render() {
			return _react2.default.createElement(
				"div",
				null,
				_react2.default.createElement(_Header2.default, { text: "Hello React" }),
				_react2.default.createElement(_Product2.default, null)
			);
		}
	}]);

	return Layout;
}(_react2.default.Component);

exports.default = Layout;

/***/ }),

/***/ 34:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.default = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(2);

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Header = function (_React$Component) {
	_inherits(Header, _React$Component);

	function Header(props) {
		_classCallCheck(this, Header);

		return _possibleConstructorReturn(this, (Header.__proto__ || Object.getPrototypeOf(Header)).call(this, props));
	}

	_createClass(Header, [{
		key: "render",
		value: function render() {
			return _react2.default.createElement(
				"h1",
				{ style: { color: '#CB3837' } },
				this.props.text
			);
		}
	}]);

	return Header;
}(_react2.default.Component);

exports.default = Header;

/***/ }),

/***/ 35:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(2);

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(9);

var _reactDom2 = _interopRequireDefault(_reactDom);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var baseUrl = "/product";

var Product = function (_Component) {
	_inherits(Product, _Component);

	function Product(props) {
		_classCallCheck(this, Product);

		var _this = _possibleConstructorReturn(this, (Product.__proto__ || Object.getPrototypeOf(Product)).call(this, props));

		_this.state = {
			loading: true,
			products: [],

			product: {
				_id: '',
				name: '',
				price: 0,
				discount: 0,
				imageUrl: ''
			}
		};

		_this.handleSubmit = _this.handleSubmit.bind(_this);
		return _this;
	}

	// BINDING


	_createClass(Product, [{
		key: 'handleChange',
		value: function handleChange(field, event) {
			var object = this.state.product;
			object[field] = event.target.value;
			this.setState({ product: object });
		}

		// SUBMIT (ADD / EDIT)

	}, {
		key: 'handleSubmit',
		value: function handleSubmit(event) {
			var _this2 = this;

			event.preventDefault();
			var component = this;
			var productId = _reactDom2.default.findDOMNode(component.refs.product_id).value;

			if (productId.length === 0) {
				// INSERT
				var insertData = JSON.stringify({
					name: _reactDom2.default.findDOMNode(this.refs.product_name).value,
					price: _reactDom2.default.findDOMNode(this.refs.product_price).value,
					discount: _reactDom2.default.findDOMNode(this.refs.product_discount).value,
					imageUrl: _reactDom2.default.findDOMNode(this.refs.product_image_url).value
				});

				fetch(baseUrl, {
					method: 'POST',
					body: insertData,
					headers: new Headers({
						'Content-Type': 'application/json'
					})
				}).then(function (res) {
					return res.json();
				}).then(function (data) {
					var products = component.state.products;
					products.push(data);

					component.state.product = {
						_id: '',
						name: '',
						price: 0,
						imageUrl: ''
					};

					component.setState(_this2.state);
				}).catch(function (err) {
					console.log(err);
				});
			} else {
				// EDIT
				var editData = JSON.stringify({
					name: _reactDom2.default.findDOMNode(this.refs.product_name).value,
					price: _reactDom2.default.findDOMNode(this.refs.product_price).value,
					discount: _reactDom2.default.findDOMNode(this.refs.product_discount).value,
					imageUrl: _reactDom2.default.findDOMNode(this.refs.product_image_url).value
				});

				fetch(baseUrl + '/' + productId, {
					method: 'PUT',
					body: editData,
					headers: new Headers({
						'Content-Type': 'application/json'
					})
				}).then(function (res) {
					return res.json();
				}).then(function (data) {
					var products = component.state.products;
					for (var i = 0; i < products.length; i++) {
						if (products[i]._id === productId) {

							products[i].name = _reactDom2.default.findDOMNode(_this2.refs.product_name).value;
							products[i].price = _reactDom2.default.findDOMNode(_this2.refs.product_price).value;
							products[i].discount = _reactDom2.default.findDOMNode(_this2.refs.product_discount).value;
							products[i].imageUrl = _reactDom2.default.findDOMNode(_this2.refs.product_image_url).value;

							component.state.product = {
								_id: '',
								name: '',
								price: 0,
								discount: 0,
								imageUrl: ''
							};

							component.setState(_this2.state);

							return false;
						}
					}
				}).catch(function (err) {
					console.log(err);
				});
			}
		}

		// SELECT ROW

	}, {
		key: 'handleSelect',
		value: function handleSelect(productId, event) {
			for (var i = 0; i < this.state.products.length; i++) {
				if (this.state.products[i]._id === productId) {
					this.state.product = this.state.products[i];
					this.setState({ product: this.state.product });
					return false;
				}
			}
		}

		// DELETE

	}, {
		key: 'handleDelete',
		value: function handleDelete(productId, event) {
			var component = this;
			fetch(baseUrl + '/' + productId, {
				method: 'DELETE',
				headers: new Headers({
					'Content-Type': 'application/json'
				})
			}).then(function (res) {
				return res.json();
			}).then(function (data) {
				var products = component.state.products;
				for (var i = 0; i < products.length; i++) {
					if (products[i]._id === productId) {
						products.splice(i, 1);
						component.setState({ products: products });
						return false;
					}
				}
			}).catch(function (err) {
				console.log(err);
			});
		}
	}, {
		key: 'componentDidMount',
		value: function componentDidMount() {
			var _this3 = this;

			fetch(baseUrl + '/all').then(function (res) {
				return res.json();
			}).then(function (data) {
				_this3.setState({ products: data });
				_this3.setState({ loading: false });
			});
		}
	}, {
		key: 'render',
		value: function render() {
			var _this4 = this;

			if (this.state.loading === false) {
				return _react2.default.createElement(
					'div',
					null,
					_react2.default.createElement(
						'h1',
						null,
						'Products'
					),
					_react2.default.createElement(
						'table',
						{ className: 'table table-hover' },
						_react2.default.createElement(
							'thead',
							null,
							_react2.default.createElement(
								'tr',
								null,
								_react2.default.createElement(
									'th',
									null,
									'Id'
								),
								_react2.default.createElement(
									'th',
									null,
									'Name'
								),
								_react2.default.createElement(
									'th',
									null,
									'Price'
								),
								_react2.default.createElement(
									'th',
									null,
									'Discount'
								),
								_react2.default.createElement(
									'th',
									null,
									'Image'
								),
								_react2.default.createElement('th', null)
							)
						),
						_react2.default.createElement(
							'tbody',
							null,
							this.state.products.map(function (p) {
								return _react2.default.createElement(
									'tr',
									{ key: p._id },
									_react2.default.createElement(
										'td',
										null,
										p._id
									),
									_react2.default.createElement(
										'td',
										null,
										p.name
									),
									_react2.default.createElement(
										'td',
										null,
										p.price
									),
									_react2.default.createElement(
										'td',
										null,
										p.discount
									),
									_react2.default.createElement(
										'td',
										null,
										_react2.default.createElement('img', { src: p.imageUrl, height: '100px' })
									),
									_react2.default.createElement(
										'td',
										{ className: 'text-right' },
										_react2.default.createElement(
											'div',
											{ className: 'btn-group' },
											_react2.default.createElement(
												'button',
												{ className: 'btn btn-danger', onClick: _this4.handleDelete.bind(_this4, p._id) },
												'Delete'
											),
											_react2.default.createElement(
												'button',
												{ className: 'btn btn-info', onClick: _this4.handleSelect.bind(_this4, p._id) },
												'Select'
											)
										)
									)
								);
							})
						)
					),
					_react2.default.createElement('hr', null),
					_react2.default.createElement(
						'form',
						{ onSubmit: this.handleSubmit },
						_react2.default.createElement(
							'div',
							{ className: 'form-group' },
							_react2.default.createElement(
								'label',
								null,
								'Id:'
							),
							_react2.default.createElement('input', { type: 'text', readOnly: true, className: 'input form-control', ref: 'product_id', value: this.state.product._id, onChange: this.handleChange.bind(this, '_id') })
						),
						_react2.default.createElement(
							'div',
							{ className: 'form-group' },
							_react2.default.createElement(
								'label',
								null,
								'Name:'
							),
							_react2.default.createElement('input', { type: 'text', className: 'input form-control', ref: 'product_name', value: this.state.product.name, onChange: this.handleChange.bind(this, 'name') })
						),
						_react2.default.createElement(
							'div',
							{ className: 'form-group' },
							_react2.default.createElement(
								'label',
								null,
								'Price:'
							),
							_react2.default.createElement('input', { type: 'text', className: 'input form-control', ref: 'product_price', value: this.state.product.price, onChange: this.handleChange.bind(this, 'price') })
						),
						_react2.default.createElement(
							'div',
							{ className: 'form-group' },
							_react2.default.createElement(
								'label',
								null,
								'Discount:'
							),
							_react2.default.createElement('input', { type: 'text', className: 'input form-control', ref: 'product_discount', value: this.state.product.discount, onChange: this.handleChange.bind(this, 'discount') })
						),
						_react2.default.createElement(
							'div',
							{ className: 'form-group' },
							_react2.default.createElement(
								'label',
								null,
								'Image Url:'
							),
							_react2.default.createElement('input', { type: 'text', className: 'input form-control', ref: 'product_image_url', value: this.state.product.imageUrl, onChange: this.handleChange.bind(this, 'imageUrl') })
						),
						_react2.default.createElement(
							'div',
							null,
							_react2.default.createElement('input', { className: 'btn btn-primary', type: 'submit', value: 'Submit' })
						)
					)
				);
			} else {
				return _react2.default.createElement(
					'h1',
					null,
					'Loading ...'
				);
			}
		}
	}]);

	return Product;
}(_react.Component);

exports.default = Product;

/***/ })

},[32]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2NvbXBvbmVudHMvTGF5b3V0LmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9jb21wb25lbnRzL0hlYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvY29tcG9uZW50cy9Qcm9kdWN0LmpzIl0sIm5hbWVzIjpbImFwcCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJyZW5kZXIiLCJMYXlvdXQiLCJwcm9wcyIsIkNvbXBvbmVudCIsIkhlYWRlciIsImNvbG9yIiwidGV4dCIsImJhc2VVcmwiLCJQcm9kdWN0Iiwic3RhdGUiLCJsb2FkaW5nIiwicHJvZHVjdHMiLCJwcm9kdWN0IiwiX2lkIiwibmFtZSIsInByaWNlIiwiZGlzY291bnQiLCJpbWFnZVVybCIsImhhbmRsZVN1Ym1pdCIsImJpbmQiLCJmaWVsZCIsImV2ZW50Iiwib2JqZWN0IiwidGFyZ2V0IiwidmFsdWUiLCJzZXRTdGF0ZSIsInByZXZlbnREZWZhdWx0IiwiY29tcG9uZW50IiwicHJvZHVjdElkIiwiZmluZERPTU5vZGUiLCJyZWZzIiwicHJvZHVjdF9pZCIsImxlbmd0aCIsImluc2VydERhdGEiLCJKU09OIiwic3RyaW5naWZ5IiwicHJvZHVjdF9uYW1lIiwicHJvZHVjdF9wcmljZSIsInByb2R1Y3RfZGlzY291bnQiLCJwcm9kdWN0X2ltYWdlX3VybCIsImZldGNoIiwibWV0aG9kIiwiYm9keSIsImhlYWRlcnMiLCJIZWFkZXJzIiwidGhlbiIsInJlcyIsImpzb24iLCJkYXRhIiwicHVzaCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImVkaXREYXRhIiwiaSIsInNwbGljZSIsIm1hcCIsInAiLCJoYW5kbGVEZWxldGUiLCJoYW5kbGVTZWxlY3QiLCJoYW5kbGVDaGFuZ2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUVBOzs7Ozs7QUFFQSxJQUFNQSxN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dFwiO1xyXG5pbXBvcnQgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiO1xyXG5cclxuaW1wb3J0IExheW91dCBmcm9tIFwiLi9jb21wb25lbnRzL0xheW91dFwiO1xyXG5cclxuY29uc3QgYXBwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpO1xyXG5SZWFjdERPTS5yZW5kZXIoPExheW91dCAvPiwgYXBwKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvaW5kZXguanMiLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCBIZWFkZXIgZnJvbSBcIi4vSGVhZGVyXCI7XHJcbmltcG9ydCBQcm9kdWN0IGZyb20gXCIuL1Byb2R1Y3RcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExheW91dCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcblx0Y29uc3RydWN0b3IocHJvcHMpIHtcclxuXHRcdHN1cGVyKHByb3BzKTtcclxuXHR9XHJcblxyXG5cdHJlbmRlcigpIHtcclxuXHRcdHJldHVybiAoXHJcblx0XHRcdDxkaXY+XHJcblx0XHRcdFx0PEhlYWRlciB0ZXh0PVwiSGVsbG8gUmVhY3RcIiAvPlxyXG5cdFx0XHRcdDxQcm9kdWN0IC8+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0KTtcclxuXHR9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvY29tcG9uZW50cy9MYXlvdXQuanMiLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIZWFkZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG5cdGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcblx0XHRzdXBlcihwcm9wcyk7XHJcblx0fVxyXG5cclxuXHRyZW5kZXIoKSB7XHJcblx0XHRyZXR1cm4gKFxyXG5cdFx0XHQ8aDEgc3R5bGU9e3sgY29sb3I6ICcjQ0IzODM3JyB9fT57dGhpcy5wcm9wcy50ZXh0fTwvaDE+XHJcblx0XHQpO1xyXG5cdH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvanMvY29tcG9uZW50cy9IZWFkZXIuanMiLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcclxuXHJcbmNvbnN0IGJhc2VVcmwgPSBcIi9wcm9kdWN0XCI7XHJcblxyXG5jbGFzcyBQcm9kdWN0IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuXHRjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG5cdFx0c3VwZXIocHJvcHMpO1xyXG5cdFx0dGhpcy5zdGF0ZSA9IHtcclxuXHRcdFx0bG9hZGluZzogdHJ1ZSxcclxuXHRcdFx0cHJvZHVjdHM6IFtdLFxyXG5cclxuXHRcdFx0cHJvZHVjdDoge1xyXG5cdFx0XHRcdF9pZDogJycsXHJcblx0XHRcdFx0bmFtZTogJycsXHJcblx0XHRcdFx0cHJpY2U6IDAsXHJcblx0XHRcdFx0ZGlzY291bnQ6IDAsXHJcblx0XHRcdFx0aW1hZ2VVcmw6ICcnXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmhhbmRsZVN1Ym1pdCA9IHRoaXMuaGFuZGxlU3VibWl0LmJpbmQodGhpcyk7XHJcblx0fVxyXG5cclxuXHQvLyBCSU5ESU5HXHJcblx0aGFuZGxlQ2hhbmdlKGZpZWxkLCBldmVudCkge1xyXG5cdFx0dmFyIG9iamVjdCA9IHRoaXMuc3RhdGUucHJvZHVjdDtcclxuXHRcdG9iamVjdFtmaWVsZF0gPSBldmVudC50YXJnZXQudmFsdWU7XHJcblx0XHR0aGlzLnNldFN0YXRlKHsgcHJvZHVjdDogb2JqZWN0IH0pO1xyXG5cdH1cclxuXHJcblx0Ly8gU1VCTUlUIChBREQgLyBFRElUKVxyXG5cdGhhbmRsZVN1Ym1pdChldmVudCkge1xyXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdHZhciBjb21wb25lbnQgPSB0aGlzO1xyXG5cdFx0dmFyIHByb2R1Y3RJZCA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKGNvbXBvbmVudC5yZWZzLnByb2R1Y3RfaWQpLnZhbHVlO1xyXG5cclxuXHRcdGlmIChwcm9kdWN0SWQubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdC8vIElOU0VSVFxyXG5cdFx0XHR2YXIgaW5zZXJ0RGF0YSA9IEpTT04uc3RyaW5naWZ5KHtcclxuXHRcdFx0XHRuYW1lOiBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzLnJlZnMucHJvZHVjdF9uYW1lKS52YWx1ZSxcclxuXHRcdFx0XHRwcmljZTogUmVhY3RET00uZmluZERPTU5vZGUodGhpcy5yZWZzLnByb2R1Y3RfcHJpY2UpLnZhbHVlLFxyXG5cdFx0XHRcdGRpc2NvdW50OiBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzLnJlZnMucHJvZHVjdF9kaXNjb3VudCkudmFsdWUsXHJcblx0XHRcdFx0aW1hZ2VVcmw6IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMucmVmcy5wcm9kdWN0X2ltYWdlX3VybCkudmFsdWUsXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0ZmV0Y2goYmFzZVVybCwge1xyXG5cdFx0XHRcdG1ldGhvZDogJ1BPU1QnLFxyXG5cdFx0XHRcdGJvZHk6IGluc2VydERhdGEsXHJcblx0XHRcdFx0aGVhZGVyczogbmV3IEhlYWRlcnMoe1xyXG5cdFx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH0pXHJcblx0XHRcdFx0LnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcblx0XHRcdFx0LnRoZW4oKGRhdGEpID0+IHtcclxuXHRcdFx0XHRcdHZhciBwcm9kdWN0cyA9IGNvbXBvbmVudC5zdGF0ZS5wcm9kdWN0cztcclxuXHRcdFx0XHRcdHByb2R1Y3RzLnB1c2goZGF0YSk7XHJcblxyXG5cdFx0XHRcdFx0Y29tcG9uZW50LnN0YXRlLnByb2R1Y3QgPSB7XHJcblx0XHRcdFx0XHRcdF9pZDogJycsXHJcblx0XHRcdFx0XHRcdG5hbWU6ICcnLFxyXG5cdFx0XHRcdFx0XHRwcmljZTogMCxcclxuXHRcdFx0XHRcdFx0aW1hZ2VVcmw6ICcnXHJcblx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRcdGNvbXBvbmVudC5zZXRTdGF0ZSh0aGlzLnN0YXRlKTtcclxuXHJcblx0XHRcdFx0fSkuY2F0Y2goKGVycikgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIEVESVRcclxuXHRcdFx0dmFyIGVkaXREYXRhID0gSlNPTi5zdHJpbmdpZnkoe1xyXG5cdFx0XHRcdG5hbWU6IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMucmVmcy5wcm9kdWN0X25hbWUpLnZhbHVlLFxyXG5cdFx0XHRcdHByaWNlOiBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzLnJlZnMucHJvZHVjdF9wcmljZSkudmFsdWUsXHJcblx0XHRcdFx0ZGlzY291bnQ6IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMucmVmcy5wcm9kdWN0X2Rpc2NvdW50KS52YWx1ZSxcclxuXHRcdFx0XHRpbWFnZVVybDogUmVhY3RET00uZmluZERPTU5vZGUodGhpcy5yZWZzLnByb2R1Y3RfaW1hZ2VfdXJsKS52YWx1ZSxcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRmZXRjaChiYXNlVXJsICsgJy8nICsgcHJvZHVjdElkLCB7XHJcblx0XHRcdFx0bWV0aG9kOiAnUFVUJyxcclxuXHRcdFx0XHRib2R5OiBlZGl0RGF0YSxcclxuXHRcdFx0XHRoZWFkZXJzOiBuZXcgSGVhZGVycyh7XHJcblx0XHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0fSlcclxuXHRcdFx0XHQudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcclxuXHRcdFx0XHQudGhlbigoZGF0YSkgPT4ge1xyXG5cdFx0XHRcdFx0dmFyIHByb2R1Y3RzID0gY29tcG9uZW50LnN0YXRlLnByb2R1Y3RzO1xyXG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBwcm9kdWN0cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0XHRpZiAocHJvZHVjdHNbaV0uX2lkID09PSBwcm9kdWN0SWQpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0cHJvZHVjdHNbaV0ubmFtZSA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMucmVmcy5wcm9kdWN0X25hbWUpLnZhbHVlO1xyXG5cdFx0XHRcdFx0XHRcdHByb2R1Y3RzW2ldLnByaWNlID0gUmVhY3RET00uZmluZERPTU5vZGUodGhpcy5yZWZzLnByb2R1Y3RfcHJpY2UpLnZhbHVlO1xyXG5cdFx0XHRcdFx0XHRcdHByb2R1Y3RzW2ldLmRpc2NvdW50ID0gUmVhY3RET00uZmluZERPTU5vZGUodGhpcy5yZWZzLnByb2R1Y3RfZGlzY291bnQpLnZhbHVlO1xyXG5cdFx0XHRcdFx0XHRcdHByb2R1Y3RzW2ldLmltYWdlVXJsID0gUmVhY3RET00uZmluZERPTU5vZGUodGhpcy5yZWZzLnByb2R1Y3RfaW1hZ2VfdXJsKS52YWx1ZTtcclxuXHJcblx0XHRcdFx0XHRcdFx0Y29tcG9uZW50LnN0YXRlLnByb2R1Y3QgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRfaWQ6ICcnLFxyXG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogJycsXHJcblx0XHRcdFx0XHRcdFx0XHRwcmljZTogMCxcclxuXHRcdFx0XHRcdFx0XHRcdGRpc2NvdW50OiAwLFxyXG5cdFx0XHRcdFx0XHRcdFx0aW1hZ2VVcmw6ICcnXHJcblx0XHRcdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0XHRcdFx0Y29tcG9uZW50LnNldFN0YXRlKHRoaXMuc3RhdGUpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KS5jYXRjaCgoZXJyKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhlcnIpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gU0VMRUNUIFJPV1xyXG5cdGhhbmRsZVNlbGVjdChwcm9kdWN0SWQsIGV2ZW50KSB7XHJcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhdGUucHJvZHVjdHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0aWYgKHRoaXMuc3RhdGUucHJvZHVjdHNbaV0uX2lkID09PSBwcm9kdWN0SWQpIHtcclxuXHRcdFx0XHR0aGlzLnN0YXRlLnByb2R1Y3QgPSB0aGlzLnN0YXRlLnByb2R1Y3RzW2ldO1xyXG5cdFx0XHRcdHRoaXMuc2V0U3RhdGUoeyBwcm9kdWN0OiB0aGlzLnN0YXRlLnByb2R1Y3QgfSk7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBERUxFVEVcclxuXHRoYW5kbGVEZWxldGUocHJvZHVjdElkLCBldmVudCkge1xyXG5cdFx0dmFyIGNvbXBvbmVudCA9IHRoaXM7XHJcblx0XHRmZXRjaChiYXNlVXJsICsgJy8nICsgcHJvZHVjdElkLCB7XHJcblx0XHRcdG1ldGhvZDogJ0RFTEVURScsXHJcblx0XHRcdGhlYWRlcnM6IG5ldyBIZWFkZXJzKHtcclxuXHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcblx0XHRcdH0pXHJcblx0XHR9KS50aGVuKHJlcyA9PiByZXMuanNvbigpKVxyXG5cdFx0XHQudGhlbigoZGF0YSkgPT4ge1xyXG5cdFx0XHRcdHZhciBwcm9kdWN0cyA9IGNvbXBvbmVudC5zdGF0ZS5wcm9kdWN0cztcclxuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHByb2R1Y3RzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0XHRpZiAocHJvZHVjdHNbaV0uX2lkID09PSBwcm9kdWN0SWQpIHtcclxuXHRcdFx0XHRcdFx0cHJvZHVjdHMuc3BsaWNlKGksIDEpO1xyXG5cdFx0XHRcdFx0XHRjb21wb25lbnQuc2V0U3RhdGUoeyBwcm9kdWN0czogcHJvZHVjdHMgfSk7XHJcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLmNhdGNoKChlcnIpID0+IHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnIpO1xyXG5cdFx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGNvbXBvbmVudERpZE1vdW50KCkge1xyXG5cdFx0ZmV0Y2goYmFzZVVybCArICcvYWxsJylcclxuXHRcdFx0LnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcblx0XHRcdC50aGVuKChkYXRhKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5zZXRTdGF0ZSh7IHByb2R1Y3RzOiBkYXRhIH0pO1xyXG5cdFx0XHRcdHRoaXMuc2V0U3RhdGUoeyBsb2FkaW5nOiBmYWxzZSB9KTtcclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHRyZW5kZXIoKSB7XHJcblx0XHRpZiAodGhpcy5zdGF0ZS5sb2FkaW5nID09PSBmYWxzZSkge1xyXG5cdFx0XHRyZXR1cm4gKFxyXG5cdFx0XHRcdDxkaXY+XHJcblx0XHRcdFx0XHQ8aDE+UHJvZHVjdHM8L2gxPlxyXG5cdFx0XHRcdFx0PHRhYmxlIGNsYXNzPVwidGFibGUgdGFibGUtaG92ZXJcIj5cclxuXHRcdFx0XHRcdFx0PHRoZWFkPlxyXG5cdFx0XHRcdFx0XHRcdDx0cj5cclxuXHRcdFx0XHRcdFx0XHRcdDx0aD5JZDwvdGg+XHJcblx0XHRcdFx0XHRcdFx0XHQ8dGg+TmFtZTwvdGg+XHJcblx0XHRcdFx0XHRcdFx0XHQ8dGg+UHJpY2U8L3RoPlxyXG5cdFx0XHRcdFx0XHRcdFx0PHRoPkRpc2NvdW50PC90aD5cclxuXHRcdFx0XHRcdFx0XHRcdDx0aD5JbWFnZTwvdGg+XHJcblx0XHRcdFx0XHRcdFx0XHQ8dGg+PC90aD5cclxuXHRcdFx0XHRcdFx0XHQ8L3RyPlxyXG5cdFx0XHRcdFx0XHQ8L3RoZWFkPlxyXG5cdFx0XHRcdFx0XHQ8dGJvZHk+XHJcblx0XHRcdFx0XHRcdFx0e3RoaXMuc3RhdGUucHJvZHVjdHMubWFwKHAgPT5cclxuXHRcdFx0XHRcdFx0XHRcdDx0ciBrZXk9e3AuX2lkfT5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PHRkPntwLl9pZH08L3RkPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+e3AubmFtZX08L3RkPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGQ+e3AucHJpY2V9PC90ZD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PHRkPntwLmRpc2NvdW50fTwvdGQ+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDx0ZD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW1nIHNyYz17cC5pbWFnZVVybH0gaGVpZ2h0PVwiMTAwcHhcIiAvPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3RkPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZXh0LXJpZ2h0XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImJ0bi1ncm91cFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tZGFuZ2VyXCIgb25DbGljaz17dGhpcy5oYW5kbGVEZWxldGUuYmluZCh0aGlzLCBwLl9pZCl9PkRlbGV0ZTwvYnV0dG9uPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4taW5mb1wiIG9uQ2xpY2s9e3RoaXMuaGFuZGxlU2VsZWN0LmJpbmQodGhpcywgcC5faWQpfT5TZWxlY3Q8L2J1dHRvbj5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGQ+XHJcblx0XHRcdFx0XHRcdFx0XHQ8L3RyPlxyXG5cdFx0XHRcdFx0XHRcdCl9XHJcblx0XHRcdFx0XHRcdDwvdGJvZHk+XHJcblx0XHRcdFx0XHQ8L3RhYmxlPlxyXG5cdFx0XHRcdFx0PGhyIC8+XHJcblx0XHRcdFx0XHQ8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG5cdFx0XHRcdFx0XHRcdDxsYWJlbD5JZDo8L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIHJlYWRPbmx5IGNsYXNzPVwiaW5wdXQgZm9ybS1jb250cm9sXCIgcmVmPVwicHJvZHVjdF9pZFwiIHZhbHVlPXt0aGlzLnN0YXRlLnByb2R1Y3QuX2lkfSBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzLCAnX2lkJyl9IC8+XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG5cdFx0XHRcdFx0XHRcdDxsYWJlbD5OYW1lOjwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJpbnB1dCBmb3JtLWNvbnRyb2xcIiByZWY9XCJwcm9kdWN0X25hbWVcIiB2YWx1ZT17dGhpcy5zdGF0ZS5wcm9kdWN0Lm5hbWV9IG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMsICduYW1lJyl9IC8+XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG5cdFx0XHRcdFx0XHRcdDxsYWJlbD5QcmljZTo8L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiaW5wdXQgZm9ybS1jb250cm9sXCIgcmVmPVwicHJvZHVjdF9wcmljZVwiIHZhbHVlPXt0aGlzLnN0YXRlLnByb2R1Y3QucHJpY2V9IG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMsICdwcmljZScpfSAvPlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuXHRcdFx0XHRcdFx0XHQ8bGFiZWw+RGlzY291bnQ6PC9sYWJlbD5cclxuXHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImlucHV0IGZvcm0tY29udHJvbFwiIHJlZj1cInByb2R1Y3RfZGlzY291bnRcIiB2YWx1ZT17dGhpcy5zdGF0ZS5wcm9kdWN0LmRpc2NvdW50fSBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzLCAnZGlzY291bnQnKX0gLz5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcblx0XHRcdFx0XHRcdFx0PGxhYmVsPkltYWdlIFVybDo8L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiaW5wdXQgZm9ybS1jb250cm9sXCIgcmVmPVwicHJvZHVjdF9pbWFnZV91cmxcIiB2YWx1ZT17dGhpcy5zdGF0ZS5wcm9kdWN0LmltYWdlVXJsfSBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzLCAnaW1hZ2VVcmwnKX0gLz5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdDxkaXY+XHJcblx0XHRcdFx0XHRcdFx0PGlucHV0IGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgdHlwZT1cInN1Ym1pdFwiIHZhbHVlPVwiU3VibWl0XCIgLz5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHQ8L2Zvcm0+XHJcblx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblx0XHRlbHNlIHtcclxuXHRcdFx0cmV0dXJuICg8aDE+TG9hZGluZyAuLi48L2gxPik7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IFByb2R1Y3Q7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9jb21wb25lbnRzL1Byb2R1Y3QuanMiXSwic291cmNlUm9vdCI6IiJ9