webpackJsonp([1],{

/***/ 39:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(9);

var _reactDom2 = _interopRequireDefault(_reactDom);

var _Layout = __webpack_require__(40);

var _Layout2 = _interopRequireDefault(_Layout);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var app = document.getElementById('app');
_reactDom2.default.render(_react2.default.createElement(_Layout2.default, null), app);

/***/ }),

/***/ 40:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.default = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _Header = __webpack_require__(41);

var _Header2 = _interopRequireDefault(_Header);

var _Product = __webpack_require__(42);

var _Product2 = _interopRequireDefault(_Product);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Layout = function (_React$Component) {
	_inherits(Layout, _React$Component);

	function Layout(props) {
		_classCallCheck(this, Layout);

		return _possibleConstructorReturn(this, (Layout.__proto__ || Object.getPrototypeOf(Layout)).call(this, props));
	}

	_createClass(Layout, [{
		key: "render",
		value: function render() {
			return _react2.default.createElement(
				"div",
				null,
				_react2.default.createElement(_Header2.default, { text: "Hello React" }),
				_react2.default.createElement(_Product2.default, null)
			);
		}
	}]);

	return Layout;
}(_react2.default.Component);

exports.default = Layout;

/***/ }),

/***/ 41:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.default = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Header = function (_React$Component) {
	_inherits(Header, _React$Component);

	function Header(props) {
		_classCallCheck(this, Header);

		return _possibleConstructorReturn(this, (Header.__proto__ || Object.getPrototypeOf(Header)).call(this, props));
	}

	_createClass(Header, [{
		key: "render",
		value: function render() {
			return _react2.default.createElement(
				"h1",
				{ style: { color: '#CB3837' } },
				this.props.text
			);
		}
	}]);

	return Header;
}(_react2.default.Component);

exports.default = Header;

/***/ }),

/***/ 42:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(1);

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(9);

var _reactDom2 = _interopRequireDefault(_reactDom);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var baseUrl = "/product";

var Product = function (_Component) {
	_inherits(Product, _Component);

	function Product(props) {
		_classCallCheck(this, Product);

		var _this = _possibleConstructorReturn(this, (Product.__proto__ || Object.getPrototypeOf(Product)).call(this, props));

		_this.state = {
			loading: true,
			products: [],

			product: {
				_id: '',
				name: '',
				price: 0,
				imageUrl: ''
			}
		};

		_this.handleSubmit = _this.handleSubmit.bind(_this);
		return _this;
	}

	// BINDING


	_createClass(Product, [{
		key: 'handleChange',
		value: function handleChange(field, event) {
			var object = this.state.product;
			object[field] = event.target.value;
			this.setState({ product: object });
		}

		// SUBMIT (ADD / EDIT)

	}, {
		key: 'handleSubmit',
		value: function handleSubmit(event) {
			var _this2 = this;

			event.preventDefault();
			var component = this;
			var productId = _reactDom2.default.findDOMNode(component.refs.product_id).value;

			if (productId.length === 0) {
				// INSERT
				var insertData = JSON.stringify({
					name: _reactDom2.default.findDOMNode(this.refs.product_name).value,
					price: _reactDom2.default.findDOMNode(this.refs.product_price).value,
					imageUrl: _reactDom2.default.findDOMNode(this.refs.product_image_url).value
				});

				fetch(baseUrl, {
					method: 'POST',
					body: insertData,
					headers: new Headers({
						'Content-Type': 'application/json'
					})
				}).then(function (res) {
					return res.json();
				}).then(function (data) {
					var products = component.state.products;
					products.push(data);

					component.state.product = {
						_id: '',
						name: '',
						price: 0,
						imageUrl: ''
					};

					component.setState(_this2.state);
				}).catch(function (err) {
					console.log(err);
				});
			} else {
				// EDIT
				var editData = JSON.stringify({
					name: _reactDom2.default.findDOMNode(this.refs.product_name).value,
					price: _reactDom2.default.findDOMNode(this.refs.product_price).value,
					imageUrl: _reactDom2.default.findDOMNode(this.refs.product_image_url).value
				});

				fetch(baseUrl + '/' + productId, {
					method: 'PUT',
					body: editData,
					headers: new Headers({
						'Content-Type': 'application/json'
					})
				}).then(function (res) {
					return res.json();
				}).then(function (data) {
					var products = component.state.products;
					for (var i = 0; i < products.length; i++) {
						if (products[i]._id === productId) {

							products[i].name = _reactDom2.default.findDOMNode(_this2.refs.product_name).value;
							products[i].price = _reactDom2.default.findDOMNode(_this2.refs.product_price).value;
							products[i].imageUrl = _reactDom2.default.findDOMNode(_this2.refs.product_image_url).value;

							component.state.product = {
								_id: '',
								name: '',
								price: 0,
								imageUrl: ''
							};

							component.setState(_this2.state);

							return false;
						}
					}
				}).catch(function (err) {
					console.log(err);
				});
			}
		}

		// SELECT ROW

	}, {
		key: 'handleSelect',
		value: function handleSelect(productId, event) {
			for (var i = 0; i < this.state.products.length; i++) {
				if (this.state.products[i]._id === productId) {
					this.state.product = this.state.products[i];
					this.setState({ product: this.state.product });
					return false;
				}
			}
		}

		// DELETE

	}, {
		key: 'handleDelete',
		value: function handleDelete(productId, event) {
			var component = this;
			fetch(baseUrl + '/' + productId, {
				method: 'DELETE',
				headers: new Headers({
					'Content-Type': 'application/json'
				})
			}).then(function (res) {
				return res.json();
			}).then(function (data) {
				var products = component.state.products;
				for (var i = 0; i < products.length; i++) {
					if (products[i]._id === productId) {
						products.splice(i, 1);
						component.setState({ products: products });
						return false;
					}
				}
			}).catch(function (err) {
				console.log(err);
			});
		}
	}, {
		key: 'componentDidMount',
		value: function componentDidMount() {
			var _this3 = this;

			fetch(baseUrl + '/all').then(function (res) {
				return res.json();
			}).then(function (data) {
				_this3.setState({ products: data });
				_this3.setState({ loading: false });
			});
		}
	}, {
		key: 'render',
		value: function render() {
			var _this4 = this;

			if (this.state.loading === false) {
				return _react2.default.createElement(
					'div',
					null,
					_react2.default.createElement(
						'h1',
						null,
						'Products'
					),
					_react2.default.createElement(
						'table',
						{ className: 'table table-hover' },
						_react2.default.createElement(
							'thead',
							null,
							_react2.default.createElement(
								'tr',
								null,
								_react2.default.createElement(
									'th',
									null,
									'Id'
								),
								_react2.default.createElement(
									'th',
									null,
									'Name'
								),
								_react2.default.createElement(
									'th',
									null,
									'Price'
								),
								_react2.default.createElement(
									'th',
									null,
									'Image'
								),
								_react2.default.createElement('th', null)
							)
						),
						_react2.default.createElement(
							'tbody',
							null,
							this.state.products.map(function (p) {
								return _react2.default.createElement(
									'tr',
									{ key: p._id },
									_react2.default.createElement(
										'td',
										null,
										p._id
									),
									_react2.default.createElement(
										'td',
										null,
										p.name
									),
									_react2.default.createElement(
										'td',
										null,
										p.price
									),
									_react2.default.createElement(
										'td',
										null,
										_react2.default.createElement('img', { src: p.imageUrl, height: '100px' })
									),
									_react2.default.createElement(
										'td',
										{ className: 'text-right' },
										_react2.default.createElement(
											'div',
											{ className: 'btn-group' },
											_react2.default.createElement(
												'button',
												{ className: 'btn btn-danger', onClick: _this4.handleDelete.bind(_this4, p._id) },
												'Delete'
											),
											_react2.default.createElement(
												'button',
												{ className: 'btn btn-info', onClick: _this4.handleSelect.bind(_this4, p._id) },
												'Select'
											)
										)
									)
								);
							})
						)
					),
					_react2.default.createElement('hr', null),
					_react2.default.createElement(
						'form',
						{ onSubmit: this.handleSubmit },
						_react2.default.createElement(
							'div',
							{ className: 'form-group' },
							_react2.default.createElement(
								'label',
								null,
								'Id:'
							),
							_react2.default.createElement('input', { type: 'text', readOnly: true, className: 'input form-control', ref: 'product_id', value: this.state.product._id, onChange: this.handleChange.bind(this, '_id') })
						),
						_react2.default.createElement(
							'div',
							{ className: 'form-group' },
							_react2.default.createElement(
								'label',
								null,
								'Name:'
							),
							_react2.default.createElement('input', { type: 'text', className: 'input form-control', ref: 'product_name', value: this.state.product.name, onChange: this.handleChange.bind(this, 'name') })
						),
						_react2.default.createElement(
							'div',
							{ className: 'form-group' },
							_react2.default.createElement(
								'label',
								null,
								'Price:'
							),
							_react2.default.createElement('input', { type: 'text', className: 'input form-control', ref: 'product_price', value: this.state.product.price, onChange: this.handleChange.bind(this, 'price') })
						),
						_react2.default.createElement(
							'div',
							{ className: 'form-group' },
							_react2.default.createElement(
								'label',
								null,
								'Image Url:'
							),
							_react2.default.createElement('input', { type: 'text', className: 'input form-control', ref: 'product_image_url', value: this.state.product.imageUrl, onChange: this.handleChange.bind(this, 'imageUrl') })
						),
						_react2.default.createElement(
							'div',
							null,
							_react2.default.createElement('input', { className: 'btn btn-primary', type: 'submit', value: 'Submit' })
						)
					)
				);
			} else {
				return _react2.default.createElement(
					'h1',
					null,
					'Loading ...'
				);
			}
		}
	}]);

	return Product;
}(_react.Component);

exports.default = Product;

/***/ })

},[39]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2NvbXBvbmVudHMvTGF5b3V0LmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9jb21wb25lbnRzL0hlYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvY29tcG9uZW50cy9Qcm9kdWN0LmpzIl0sIm5hbWVzIjpbImFwcCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJyZW5kZXIiLCJMYXlvdXQiLCJwcm9wcyIsIkNvbXBvbmVudCIsIkhlYWRlciIsImNvbG9yIiwidGV4dCIsImJhc2VVcmwiLCJQcm9kdWN0Iiwic3RhdGUiLCJsb2FkaW5nIiwicHJvZHVjdHMiLCJwcm9kdWN0IiwiX2lkIiwibmFtZSIsInByaWNlIiwiaW1hZ2VVcmwiLCJoYW5kbGVTdWJtaXQiLCJiaW5kIiwiZmllbGQiLCJldmVudCIsIm9iamVjdCIsInRhcmdldCIsInZhbHVlIiwic2V0U3RhdGUiLCJwcmV2ZW50RGVmYXVsdCIsImNvbXBvbmVudCIsInByb2R1Y3RJZCIsImZpbmRET01Ob2RlIiwicmVmcyIsInByb2R1Y3RfaWQiLCJsZW5ndGgiLCJpbnNlcnREYXRhIiwiSlNPTiIsInN0cmluZ2lmeSIsInByb2R1Y3RfbmFtZSIsInByb2R1Y3RfcHJpY2UiLCJwcm9kdWN0X2ltYWdlX3VybCIsImZldGNoIiwibWV0aG9kIiwiYm9keSIsImhlYWRlcnMiLCJIZWFkZXJzIiwidGhlbiIsInJlcyIsImpzb24iLCJkYXRhIiwicHVzaCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImVkaXREYXRhIiwiaSIsInNwbGljZSIsIm1hcCIsInAiLCJoYW5kbGVEZWxldGUiLCJoYW5kbGVTZWxlY3QiLCJoYW5kbGVDaGFuZ2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUVBOzs7Ozs7QUFFQSxJQUFNQSxNQUFNQyxTQUFTQyxjQUFULENBQXdCLEtBQXhCLENB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QUFrQnpDLElBQWxCLENBQXVCLElBQXZCLEVBQTZCLFVBQTdCLENBQXBIO0FBRkQsT0FiRDtBQWlCQztBQUFBO0FBQUE7QUFDQyxnREFBTyxXQUFNLGlCQUFiLEVBQStCLE1BQUssUUFBcEMsRUFBNkMsT0FBTSxRQUFuRDtBQUREO0FBakJEO0FBaENELEtBREQ7QUF3REEsSUF6REQsTUEwREs7QUFDSixXQUFRO0FBQUE7QUFBQTtBQUFBO0FBQUEsS0FBUjtBQUNBO0FBQ0Q7Ozs7OztrQkFFYVYsTyIsImZpbGUiOiJpbmRleC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tXCI7XHJcblxyXG5pbXBvcnQgTGF5b3V0IGZyb20gXCIuL2NvbXBvbmVudHMvTGF5b3V0XCI7XHJcblxyXG5jb25zdCBhcHAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJyk7XHJcblJlYWN0RE9NLnJlbmRlcig8TGF5b3V0IC8+LCBhcHApO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9pbmRleC5qcyIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IEhlYWRlciBmcm9tIFwiLi9IZWFkZXJcIjtcclxuaW1wb3J0IFByb2R1Y3QgZnJvbSBcIi4vUHJvZHVjdFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGF5b3V0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuXHRjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG5cdFx0c3VwZXIocHJvcHMpO1xyXG5cdH1cclxuXHJcblx0cmVuZGVyKCkge1xyXG5cdFx0cmV0dXJuIChcclxuXHRcdFx0PGRpdj5cclxuXHRcdFx0XHQ8SGVhZGVyIHRleHQ9XCJIZWxsbyBSZWFjdFwiIC8+XHJcblx0XHRcdFx0PFByb2R1Y3QgLz5cclxuXHRcdFx0PC9kaXY+XHJcblx0XHQpO1xyXG5cdH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9jb21wb25lbnRzL0xheW91dC5qcyIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhlYWRlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcblx0Y29uc3RydWN0b3IocHJvcHMpIHtcclxuXHRcdHN1cGVyKHByb3BzKTtcclxuXHR9XHJcblxyXG5cdHJlbmRlcigpIHtcclxuXHRcdHJldHVybiAoXHJcblx0XHRcdDxoMSBzdHlsZT17eyBjb2xvcjogJyNDQjM4MzcnIH19Pnt0aGlzLnByb3BzLnRleHR9PC9oMT5cclxuXHRcdCk7XHJcblx0fVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9qcy9jb21wb25lbnRzL0hlYWRlci5qcyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xyXG5cclxuY29uc3QgYmFzZVVybCA9IFwiL3Byb2R1Y3RcIjtcclxuXHJcbmNsYXNzIFByb2R1Y3QgZXh0ZW5kcyBDb21wb25lbnQge1xyXG5cdGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcblx0XHRzdXBlcihwcm9wcyk7XHJcblx0XHR0aGlzLnN0YXRlID0ge1xyXG5cdFx0XHRsb2FkaW5nOiB0cnVlLFxyXG5cdFx0XHRwcm9kdWN0czogW10sXHJcblxyXG5cdFx0XHRwcm9kdWN0OiB7XHJcblx0XHRcdFx0X2lkOiAnJyxcclxuXHRcdFx0XHRuYW1lOiAnJyxcclxuXHRcdFx0XHRwcmljZTogMCxcclxuXHRcdFx0XHRpbWFnZVVybDogJydcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuaGFuZGxlU3VibWl0ID0gdGhpcy5oYW5kbGVTdWJtaXQuYmluZCh0aGlzKTtcclxuXHR9XHJcblxyXG5cdC8vIEJJTkRJTkdcclxuXHRoYW5kbGVDaGFuZ2UoZmllbGQsIGV2ZW50KSB7XHJcblx0XHR2YXIgb2JqZWN0ID0gdGhpcy5zdGF0ZS5wcm9kdWN0O1xyXG5cdFx0b2JqZWN0W2ZpZWxkXSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcclxuXHRcdHRoaXMuc2V0U3RhdGUoeyBwcm9kdWN0OiBvYmplY3QgfSk7XHJcblx0fVxyXG5cclxuXHQvLyBTVUJNSVQgKEFERCAvIEVESVQpXHJcblx0aGFuZGxlU3VibWl0KGV2ZW50KSB7XHJcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0dmFyIGNvbXBvbmVudCA9IHRoaXM7XHJcblx0XHR2YXIgcHJvZHVjdElkID0gUmVhY3RET00uZmluZERPTU5vZGUoY29tcG9uZW50LnJlZnMucHJvZHVjdF9pZCkudmFsdWU7XHJcblxyXG5cdFx0aWYgKHByb2R1Y3RJZC5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0Ly8gSU5TRVJUXHJcblx0XHRcdHZhciBpbnNlcnREYXRhID0gSlNPTi5zdHJpbmdpZnkoe1xyXG5cdFx0XHRcdG5hbWU6IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMucmVmcy5wcm9kdWN0X25hbWUpLnZhbHVlLFxyXG5cdFx0XHRcdHByaWNlOiBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzLnJlZnMucHJvZHVjdF9wcmljZSkudmFsdWUsXHJcblx0XHRcdFx0aW1hZ2VVcmw6IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMucmVmcy5wcm9kdWN0X2ltYWdlX3VybCkudmFsdWUsXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0ZmV0Y2goYmFzZVVybCwge1xyXG5cdFx0XHRcdG1ldGhvZDogJ1BPU1QnLFxyXG5cdFx0XHRcdGJvZHk6IGluc2VydERhdGEsXHJcblx0XHRcdFx0aGVhZGVyczogbmV3IEhlYWRlcnMoe1xyXG5cdFx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH0pXHJcblx0XHRcdFx0LnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcblx0XHRcdFx0LnRoZW4oKGRhdGEpID0+IHtcclxuXHRcdFx0XHRcdHZhciBwcm9kdWN0cyA9IGNvbXBvbmVudC5zdGF0ZS5wcm9kdWN0cztcclxuXHRcdFx0XHRcdHByb2R1Y3RzLnB1c2goZGF0YSk7XHJcblxyXG5cdFx0XHRcdFx0Y29tcG9uZW50LnN0YXRlLnByb2R1Y3QgPSB7XHJcblx0XHRcdFx0XHRcdF9pZDogJycsXHJcblx0XHRcdFx0XHRcdG5hbWU6ICcnLFxyXG5cdFx0XHRcdFx0XHRwcmljZTogMCxcclxuXHRcdFx0XHRcdFx0aW1hZ2VVcmw6ICcnXHJcblx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRcdGNvbXBvbmVudC5zZXRTdGF0ZSh0aGlzLnN0YXRlKTtcclxuXHJcblx0XHRcdFx0fSkuY2F0Y2goKGVycikgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIEVESVRcclxuXHRcdFx0dmFyIGVkaXREYXRhID0gSlNPTi5zdHJpbmdpZnkoe1xyXG5cdFx0XHRcdG5hbWU6IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMucmVmcy5wcm9kdWN0X25hbWUpLnZhbHVlLFxyXG5cdFx0XHRcdHByaWNlOiBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzLnJlZnMucHJvZHVjdF9wcmljZSkudmFsdWUsXHJcblx0XHRcdFx0aW1hZ2VVcmw6IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMucmVmcy5wcm9kdWN0X2ltYWdlX3VybCkudmFsdWUsXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0ZmV0Y2goYmFzZVVybCArICcvJyArIHByb2R1Y3RJZCwge1xyXG5cdFx0XHRcdG1ldGhvZDogJ1BVVCcsXHJcblx0XHRcdFx0Ym9keTogZWRpdERhdGEsXHJcblx0XHRcdFx0aGVhZGVyczogbmV3IEhlYWRlcnMoe1xyXG5cdFx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH0pXHJcblx0XHRcdFx0LnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcblx0XHRcdFx0LnRoZW4oKGRhdGEpID0+IHtcclxuXHRcdFx0XHRcdHZhciBwcm9kdWN0cyA9IGNvbXBvbmVudC5zdGF0ZS5wcm9kdWN0cztcclxuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgcHJvZHVjdHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdFx0aWYgKHByb2R1Y3RzW2ldLl9pZCA9PT0gcHJvZHVjdElkKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRcdHByb2R1Y3RzW2ldLm5hbWUgPSBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzLnJlZnMucHJvZHVjdF9uYW1lKS52YWx1ZTtcclxuXHRcdFx0XHRcdFx0XHRwcm9kdWN0c1tpXS5wcmljZSA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMucmVmcy5wcm9kdWN0X3ByaWNlKS52YWx1ZTtcclxuXHRcdFx0XHRcdFx0XHRwcm9kdWN0c1tpXS5pbWFnZVVybCA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMucmVmcy5wcm9kdWN0X2ltYWdlX3VybCkudmFsdWU7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGNvbXBvbmVudC5zdGF0ZS5wcm9kdWN0ID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0X2lkOiAnJyxcclxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6ICcnLFxyXG5cdFx0XHRcdFx0XHRcdFx0cHJpY2U6IDAsXHJcblx0XHRcdFx0XHRcdFx0XHRpbWFnZVVybDogJydcclxuXHRcdFx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRcdFx0XHRjb21wb25lbnQuc2V0U3RhdGUodGhpcy5zdGF0ZSk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pLmNhdGNoKChlcnIpID0+IHtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBTRUxFQ1QgUk9XXHJcblx0aGFuZGxlU2VsZWN0KHByb2R1Y3RJZCwgZXZlbnQpIHtcclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGF0ZS5wcm9kdWN0cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRpZiAodGhpcy5zdGF0ZS5wcm9kdWN0c1tpXS5faWQgPT09IHByb2R1Y3RJZCkge1xyXG5cdFx0XHRcdHRoaXMuc3RhdGUucHJvZHVjdCA9IHRoaXMuc3RhdGUucHJvZHVjdHNbaV07XHJcblx0XHRcdFx0dGhpcy5zZXRTdGF0ZSh7IHByb2R1Y3Q6IHRoaXMuc3RhdGUucHJvZHVjdCB9KTtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIERFTEVURVxyXG5cdGhhbmRsZURlbGV0ZShwcm9kdWN0SWQsIGV2ZW50KSB7XHJcblx0XHR2YXIgY29tcG9uZW50ID0gdGhpcztcclxuXHRcdGZldGNoKGJhc2VVcmwgKyAnLycgKyBwcm9kdWN0SWQsIHtcclxuXHRcdFx0bWV0aG9kOiAnREVMRVRFJyxcclxuXHRcdFx0aGVhZGVyczogbmV3IEhlYWRlcnMoe1xyXG5cdFx0XHRcdCdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuXHRcdFx0fSlcclxuXHRcdH0pLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcblx0XHRcdC50aGVuKChkYXRhKSA9PiB7XHJcblx0XHRcdFx0dmFyIHByb2R1Y3RzID0gY29tcG9uZW50LnN0YXRlLnByb2R1Y3RzO1xyXG5cdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgcHJvZHVjdHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdGlmIChwcm9kdWN0c1tpXS5faWQgPT09IHByb2R1Y3RJZCkge1xyXG5cdFx0XHRcdFx0XHRwcm9kdWN0cy5zcGxpY2UoaSwgMSk7XHJcblx0XHRcdFx0XHRcdGNvbXBvbmVudC5zZXRTdGF0ZSh7IHByb2R1Y3RzOiBwcm9kdWN0cyB9KTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkuY2F0Y2goKGVycikgPT4ge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0Y29tcG9uZW50RGlkTW91bnQoKSB7XHJcblx0XHRmZXRjaChiYXNlVXJsICsgJy9hbGwnKVxyXG5cdFx0XHQudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcclxuXHRcdFx0LnRoZW4oKGRhdGEpID0+IHtcclxuXHRcdFx0XHR0aGlzLnNldFN0YXRlKHsgcHJvZHVjdHM6IGRhdGEgfSk7XHJcblx0XHRcdFx0dGhpcy5zZXRTdGF0ZSh7IGxvYWRpbmc6IGZhbHNlIH0pO1xyXG5cdFx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHJlbmRlcigpIHtcclxuXHRcdGlmICh0aGlzLnN0YXRlLmxvYWRpbmcgPT09IGZhbHNlKSB7XHJcblx0XHRcdHJldHVybiAoXHJcblx0XHRcdFx0PGRpdj5cclxuXHRcdFx0XHRcdDxoMT5Qcm9kdWN0czwvaDE+XHJcblx0XHRcdFx0XHQ8dGFibGUgY2xhc3M9XCJ0YWJsZSB0YWJsZS1ob3ZlclwiPlxyXG5cdFx0XHRcdFx0XHQ8dGhlYWQ+XHJcblx0XHRcdFx0XHRcdFx0PHRyPlxyXG5cdFx0XHRcdFx0XHRcdFx0PHRoPklkPC90aD5cclxuXHRcdFx0XHRcdFx0XHRcdDx0aD5OYW1lPC90aD5cclxuXHRcdFx0XHRcdFx0XHRcdDx0aD5QcmljZTwvdGg+XHJcblx0XHRcdFx0XHRcdFx0XHQ8dGg+SW1hZ2U8L3RoPlxyXG5cdFx0XHRcdFx0XHRcdFx0PHRoPjwvdGg+XHJcblx0XHRcdFx0XHRcdFx0PC90cj5cclxuXHRcdFx0XHRcdFx0PC90aGVhZD5cclxuXHRcdFx0XHRcdFx0PHRib2R5PlxyXG5cdFx0XHRcdFx0XHRcdHt0aGlzLnN0YXRlLnByb2R1Y3RzLm1hcChwID0+XHJcblx0XHRcdFx0XHRcdFx0XHQ8dHIga2V5PXtwLl9pZH0+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDx0ZD57cC5faWR9PC90ZD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PHRkPntwLm5hbWV9PC90ZD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PHRkPntwLnByaWNlfTwvdGQ+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDx0ZD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW1nIHNyYz17cC5pbWFnZVVybH0gaGVpZ2h0PVwiMTAwcHhcIiAvPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3RkPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZXh0LXJpZ2h0XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImJ0bi1ncm91cFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tZGFuZ2VyXCIgb25DbGljaz17dGhpcy5oYW5kbGVEZWxldGUuYmluZCh0aGlzLCBwLl9pZCl9PkRlbGV0ZTwvYnV0dG9uPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4taW5mb1wiIG9uQ2xpY2s9e3RoaXMuaGFuZGxlU2VsZWN0LmJpbmQodGhpcywgcC5faWQpfT5TZWxlY3Q8L2J1dHRvbj5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGQ+XHJcblx0XHRcdFx0XHRcdFx0XHQ8L3RyPlxyXG5cdFx0XHRcdFx0XHRcdCl9XHJcblx0XHRcdFx0XHRcdDwvdGJvZHk+XHJcblx0XHRcdFx0XHQ8L3RhYmxlPlxyXG5cdFx0XHRcdFx0PGhyIC8+XHJcblx0XHRcdFx0XHQ8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG5cdFx0XHRcdFx0XHRcdDxsYWJlbD5JZDo8L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIHJlYWRPbmx5IGNsYXNzPVwiaW5wdXQgZm9ybS1jb250cm9sXCIgcmVmPVwicHJvZHVjdF9pZFwiIHZhbHVlPXt0aGlzLnN0YXRlLnByb2R1Y3QuX2lkfSBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzLCAnX2lkJyl9IC8+XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG5cdFx0XHRcdFx0XHRcdDxsYWJlbD5OYW1lOjwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJpbnB1dCBmb3JtLWNvbnRyb2xcIiByZWY9XCJwcm9kdWN0X25hbWVcIiB2YWx1ZT17dGhpcy5zdGF0ZS5wcm9kdWN0Lm5hbWV9IG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMsICduYW1lJyl9IC8+XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG5cdFx0XHRcdFx0XHRcdDxsYWJlbD5QcmljZTo8L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiaW5wdXQgZm9ybS1jb250cm9sXCIgcmVmPVwicHJvZHVjdF9wcmljZVwiIHZhbHVlPXt0aGlzLnN0YXRlLnByb2R1Y3QucHJpY2V9IG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMsICdwcmljZScpfSAvPlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuXHRcdFx0XHRcdFx0XHQ8bGFiZWw+SW1hZ2UgVXJsOjwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJpbnB1dCBmb3JtLWNvbnRyb2xcIiByZWY9XCJwcm9kdWN0X2ltYWdlX3VybFwiIHZhbHVlPXt0aGlzLnN0YXRlLnByb2R1Y3QuaW1hZ2VVcmx9IG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMsICdpbWFnZVVybCcpfSAvPlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PGRpdj5cclxuXHRcdFx0XHRcdFx0XHQ8aW5wdXQgY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiB0eXBlPVwic3VibWl0XCIgdmFsdWU9XCJTdWJtaXRcIiAvPlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdDwvZm9ybT5cclxuXHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0KTtcclxuXHRcdH1cclxuXHRcdGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gKDxoMT5Mb2FkaW5nIC4uLjwvaDE+KTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgUHJvZHVjdDtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2pzL2NvbXBvbmVudHMvUHJvZHVjdC5qcyJdLCJzb3VyY2VSb290IjoiIn0=